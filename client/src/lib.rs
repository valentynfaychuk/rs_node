mod dump_replay;

pub use dump_replay::DumpReplaySocket;

pub fn init_tracing() {
    // Minimal, dependency-light logging initialization.
    // Prefer not to fail if a subscriber is already set elsewhere.
    let _ = tracing_subscriber::fmt::try_init();

    // Install a panic hook that reports to stderr without requiring tracing macros.
    std::panic::set_hook(Box::new(|pi| {
        eprintln!("panic: {}", pi);
    }));
}

pub const PING: [u8; 1016] = [
    65, 77, 65, 1, 1, 1, 1, 172, 110, 236, 111, 108, 227, 99, 105, 252, 127, 190, 173, 99, 15, 70, 239, 27, 128, 145,
    149, 193, 212, 241, 138, 252, 195, 207, 147, 190, 164, 48, 91, 11, 219, 116, 10, 73, 48, 222, 64, 213, 184, 15, 55,
    219, 86, 44, 6, 166, 48, 205, 245, 251, 45, 48, 235, 36, 151, 156, 144, 128, 116, 2, 119, 78, 249, 166, 92, 88,
    110, 82, 64, 57, 44, 233, 77, 72, 120, 220, 184, 74, 77, 250, 107, 139, 59, 31, 121, 85, 81, 2, 213, 167, 236, 48,
    90, 9, 67, 39, 108, 142, 4, 164, 187, 187, 240, 150, 50, 72, 139, 39, 70, 145, 206, 134, 164, 207, 218, 96, 220,
    85, 80, 188, 72, 164, 130, 159, 63, 29, 150, 73, 105, 0, 40, 152, 157, 241, 179, 235, 78, 218, 177, 131, 238, 0, 0,
    0, 1, 24, 89, 169, 63, 59, 36, 242, 227, 0, 0, 3, 81, 107, 46, 97, 96, 96, 96, 41, 103, 202, 47, 40, 103, 41, 200,
    204, 75, 47, 103, 43, 202, 207, 47, 73, 77, 1, 9, 51, 149, 179, 101, 164, 38, 166, 164, 22, 229, 50, 48, 48, 198,
    52, 131, 132, 56, 202, 153, 82, 64, 92, 6, 133, 210, 166, 140, 139, 75, 158, 126, 186, 185, 58, 177, 214, 244, 164,
    134, 179, 128, 169, 157, 218, 36, 173, 75, 83, 228, 222, 110, 123, 124, 87, 185, 175, 1, 172, 55, 51, 61, 163, 36,
    137, 49, 242, 96, 108, 57, 103, 65, 81, 106, 89, 124, 70, 98, 113, 6, 88, 243, 177, 239, 118, 151, 246, 245, 51,
    45, 168, 185, 119, 45, 119, 81, 217, 79, 241, 189, 183, 207, 229, 31, 252, 232, 121, 170, 113, 221, 58, 21, 14,
    247, 54, 49, 168, 250, 226, 156, 124, 176, 254, 152, 114, 182, 226, 204, 244, 60, 176, 67, 24, 12, 214, 48, 191,
    218, 102, 123, 243, 107, 128, 251, 157, 213, 205, 19, 255, 255, 81, 49, 44, 180, 222, 43, 162, 238, 245, 116, 114,
    164, 85, 224, 127, 33, 35, 107, 169, 45, 225, 165, 95, 78, 27, 239, 152, 191, 43, 139, 47, 238, 220, 229, 210, 114,
    22, 152, 57, 177, 229, 28, 37, 21, 197, 8, 103, 172, 23, 246, 220, 249, 245, 231, 194, 101, 11, 28, 124, 95, 153,
    221, 57, 233, 57, 251, 180, 234, 201, 181, 7, 133, 182, 159, 153, 53, 249, 212, 19, 121, 163, 164, 114, 166, 50,
    176, 149, 9, 157, 87, 95, 122, 255, 155, 124, 115, 107, 182, 178, 128, 202, 106, 187, 244, 35, 205, 42, 33, 58, 69,
    251, 92, 63, 4, 127, 180, 180, 139, 107, 224, 95, 34, 118, 124, 186, 222, 130, 211, 225, 127, 156, 214, 50, 61,
    200, 97, 15, 123, 198, 224, 54, 255, 219, 175, 188, 198, 76, 239, 89, 102, 193, 55, 60, 148, 229, 27, 150, 215, 37,
    222, 95, 252, 90, 200, 102, 214, 97, 79, 11, 166, 29, 229, 191, 212, 237, 143, 95, 153, 177, 168, 46, 98, 191, 187,
    233, 122, 43, 105, 195, 114, 78, 144, 255, 18, 75, 74, 139, 82, 193, 246, 77, 92, 246, 68, 208, 48, 205, 65, 125,
    139, 80, 182, 126, 217, 188, 21, 142, 118, 183, 107, 230, 78, 100, 9, 242, 233, 189, 240, 125, 70, 164, 13, 203,
    25, 134, 199, 108, 33, 143, 162, 83, 215, 132, 29, 150, 98, 222, 19, 154, 248, 128, 249, 183, 100, 204, 131, 46,
    166, 191, 215, 130, 78, 58, 240, 182, 77, 18, 84, 156, 183, 113, 71, 112, 61, 179, 146, 35, 131, 74, 192, 203, 25,
    145, 139, 22, 25, 247, 255, 121, 242, 183, 63, 236, 89, 51, 87, 116, 252, 193, 206, 117, 192, 112, 72, 205, 45,
    200, 47, 74, 204, 33, 24, 207, 123, 125, 103, 88, 126, 58, 103, 43, 227, 159, 203, 121, 141, 241, 243, 189, 151,
    147, 50, 179, 252, 31, 218, 149, 111, 43, 74, 251, 89, 38, 242, 162, 90, 28, 41, 158, 79, 78, 70, 143, 231, 7, 189,
    243, 98, 195, 69, 165, 143, 180, 188, 158, 165, 159, 170, 87, 254, 81, 89, 196, 245, 67, 223, 236, 137, 154, 34,
    225, 229, 71, 31, 183, 244, 112, 160, 198, 243, 201, 73, 40, 241, 220, 228, 89, 96, 184, 53, 138, 237, 249, 202,
    52, 95, 177, 91, 12, 119, 2, 119, 248, 87, 207, 78, 106, 56, 91, 95, 173, 234, 30, 146, 30, 161, 207, 213, 189,
    100, 210, 194, 104, 81, 22, 79, 181, 184, 110, 231, 184, 237, 154, 30, 240, 120, 6, 186, 131, 204, 120, 94, 84,
    240, 174, 133, 129, 233, 178, 229, 133, 115, 103, 38, 222, 175, 85, 233, 96, 77, 102, 240, 218, 147, 93, 59, 35,
    42, 115, 201, 235, 30, 65, 223, 250, 53, 62, 26, 63, 254, 106, 244, 60, 189, 183, 218, 231, 84, 162, 111, 122, 28,
    231, 91, 253, 120, 38, 41, 203, 111, 63, 236, 84, 197, 214, 255, 17, 190, 20, 217, 178, 195, 108, 159, 150, 213,
    71, 198, 123, 57, 95, 30, 10, 60, 220, 248, 101, 69, 226, 250, 211, 142, 78, 135, 118, 44, 176, 120, 47, 182, 207,
    100, 18, 122, 60, 111, 83, 188, 242, 246, 239, 38, 137, 203, 75, 230, 125, 52, 185, 199, 106, 25, 97, 212, 39, 118,
    205, 69, 228, 168, 141, 196, 93, 193, 123, 25, 54, 171, 215, 127, 123, 19, 246, 123, 238, 124, 207, 93, 49, 15,
    170, 36, 175, 110, 217, 227, 199, 165, 91, 96, 159, 29, 28, 23, 214, 210, 56, 249, 196, 14, 219, 29, 42, 182, 239,
    255, 115, 89, 244, 47, 13, 253, 36, 169, 155, 36, 250, 243, 85, 127, 171, 239, 82, 107, 205, 160, 107, 90, 247,
    238, 223, 251, 170, 114, 186, 236, 98, 57, 75, 73, 113, 124, 110, 30, 27, 131, 205, 178, 170, 246, 25, 140, 0,
];
